<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Title</title>
    <style>
        body {
            background: #444;
        }
    </style>

<script src="dec.js"></script>

<script>

function testAdd(a, b, expected) {
    a = new DecimalString(a);
    b = new DecimalString(b);
    expected = new DecimalString(expected);
    const actual = a.add(b);
    if (actual.toString() !== expected.toString()) {
        console.error(a.toString(), '+', b.toString(), '==', actual.toString(), 'not', expected.toString());
    }
}

function testDiv(a, b, wholeExp, remExp) {
    function eq(x, y) {
        return x === y || (isNaN(x) && isNaN(y));
    }
    if (typeof a !== 'string') throw 'Argument a expected to be a string';
    if (typeof b !== 'number') throw 'Argument a expected to be a number';
    const [wholeAct, remAct] = longDivision(a, b);
    // log('a:', a, 'b:', b);
    // log('wholeAct', wholeAct, 'remAct', remAct);
    if (!eq(wholeAct, wholeExp) || !eq(remAct, remExp)) {
        console.error(a, '/', b, '==', wholeAct, ';', remAct, ', not', wholeExp, ';', remExp);
    }
}

let a = new DecimalString('100.001');
let b = new DecimalString('3.03');
const log = console.log;
log('a', a.toString());
log('b', b.toString());
let c = a.add(b);
log('c', c.toString());

// log('longDivision', longDivision(a.whole, 77));
// log('zero', new Deci().toString());

testAdd('1', '2', '3');
testAdd('1.0', '2.0', '3');
testAdd('108.001', '3.03', '111.031');
testAdd('1.999', '2.002', '4.001');

testDiv('8', 2, '4', 0);
testDiv('100', 77, '1', 23);
testDiv('1', 3, '0', 1);
testDiv('0', 100, '0', 0);
testDiv('100', 0, '', Number.NaN);

const BIG = '1111111111111111111111111111111111111111122222';
log('s1 / 60 =', (BigInt(BIG) / BigInt('60')).toString());
testDiv(BIG, 60, '18518518518518518518518518518518518518518703', 42);

a = dec(BIG, '56');
log('a', a.toString());
const [z, y] = a.divInt(60);
log('z', z.toString());
log('y', y.toString());

// a = new BigDecimal("123456789123456789876.1");
// b = a.divide("60");
// c = b.add("9.000000000000000004");
// log(a.toString());
// log(b.toString());
// log(c.toString());

</script>
</head>
<body>
hey
</body>
</html>